条件分岐に対するデザインレシピ
==============================

関数定義に対するデザインレシピの拡張

例
--

いろいろな入力によって内部の処理が異なる場合は、まずどのような場合分けが必要か
を考える。そして、すべての場合について必ず例を作成する。また、ある場合と別の場
合の境界などの微妙な場合の例も作成しておく。これらの例は、前と同様にいずれもテ
ストプログラムにしておく。


本体(1)
-------

本体を作成する前に、まず場合分けの条件を特定する。それを使って必要な場合分けを
行う if 文を作成する。この段階では if 文の then 部分、 else 部分は型の合った適
当な値を入れておく。その状態でテストプログラムを実行できることを確認し、プログ
ラムの大枠(if 文の構文)が正しいことを確認する。ただし、この時点ではまだ本体を作
成していないので、テスト自体は当然、すべて false になる。

(* 目的: 受け取った実数 x の絶対値を計算する *)
(* abs_value : float -> float *)
let abs_value x =
  if x > 0.0 then 0.0
             else 0.0


本体(2)
-------

プログラムの大枠が完成したら、各場合の本体(if 文の then 部分、 else 部分)をひと
つひとつ順に作成する。ひとつの場合を作成するたびにテストプログラムを実行して、
今、作った部分のテストが true になることを確認する。true にならなかったら、どこ
かに間違いがある。
